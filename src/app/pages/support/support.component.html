
<div class="container-flued qq-mrgn">

  <div class="d-flex justify-content-between">
    <div class="heading">Support </div>
    <div class="headingSmall pointer">
      <!-- <div class="ticket">Ticket</div> -->
      <div class="heading2 " *ngIf="section == 1" (click)="openTicket()">
        <img src="assets/img/plus.png" alt="">
      </div>
      <div class="heading2 ticket" *ngIf="section == 2" (click)="closeTicket()">Back</div>
    </div>
  </div>

   


  <section *ngIf="section == 1">
    <div class="mt-5" style="overflow-x:auto;">

      <table id="customers">
        <tr>
          <th>#</th>
          <th>Subject</th>
          <th>Last Reply</th>

          <th>Status</th>
          <th></th>
        </tr>
        <tr *ngFor="let item of history"  >
          <td>
            <input type="checkbox" name="" id="">
          </td>
          <td>{{item.subject}}</td>
          <td>
            <div>{{item.createdAt | date}}</div>
          </td>


          <td>
            <div class="qq-active" >
              {{item.status}}
            </div>
          </td>
          <td>
            <div><a routerLink="/4/support/reply/{{item._id}}">Reply</a></div>
          </td>
          <!-- <td>
            <div id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
              <img class=" dropdown-toggle pointer" src="assets/img/dots.png" alt="">
            </div>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <li><a class="dropdown-item">Download CSV Invoice</a></li>
               <li><a class="dropdown-item">Download PDF Invoice</a></li>
            </ul>
  
          </td> -->
        </tr>



      </table>

    </div>


    <div class="questionBox mt-5">

      <div class="headingSmall">Frequently Asked Questions</div>



      <div class="accordion my-4" id="accordionExample">
        <div class="accordion-item my-1" *ngFor="let item of quest; let i = index">
          <h2 class="accordion-header" [id]="'heading'+i">

            <button class="accordion-button" [ngClass]="{ 'collapsed': i != 0 }" type="button" data-bs-toggle="collapse"
              [attr.data-bs-target]="'#collapse'+i" aria-expanded="true" [attr.aria-controls]="'collapse'+i">
              {{item.title}}
            </button>
          </h2>
          <div [id]="'collapse'+i" class="accordion-collapse collapse" [ngClass]="{ 'show': i == 0 }"
            [attr.aria-labelledby]="'heading'+i" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              {{item.desc}}
            </div>
          </div>
        </div>


      </div>

    </div>
  </section>

 <!-- section 2 ticket  -->
  <section *ngIf="section == 2">

    <!-- <div class="heading">Ticket</div> -->
    <form #formData="ngForm" (ngSubmit)="generateTicket(formData)">

      <div class="inputDiv">

        <div class="col-md-8 my-2">
          <label for="">Select Category</label>
          <select class="form-control" ngModel name="category"  >
            <option value="General Support">General Support</option>
            <option value="Account Cancellation">Account Cancellation</option>
            <option value="Billing Questions" >Billing Questions</option>
            
          </select>

        </div>


        <div class="col-md-8 my-2">
          <input class="form-control" type="text" ngModel name="server" placeholder="Server">
        </div>

        <div class="col-md-8 my-2">
          <input class="form-control" type="text" ngModel name="subject" placeholder="Subject">
        </div>

        <div class="col-md-8 my-2">
          <textarea class="form-control" ngModel placeholder="Message" name="message" id="" cols="30" rows="6"></textarea>
        </div>

        <div class="col-md-8 my-2"> 
          <label for="">Add Attachment</label>
          <input type="file" name="file" ngModel class="form-control"  (change)="onFileSelected($event)">
        </div>

      </div>

      <div class="ml-3 mt-2">
        <button class="btn">Open Ticket</button>
    </div>

    </form>




  </section>













</div>